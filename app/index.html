<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Mi Recetario Personal</title>
    <link rel="icon" href="imagenes/logo.png">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="jqm/jquery.mobile-1.4.5.css">
    <script src="jqm/jquery-1.12.3.min.js"></script>
    <script src="jqm/jquery.mobile-1.4.5.js"></script>
    <link rel="stylesheet" href="estilos.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Josefin+Sans:wght@450&display=swap"
        rel="stylesheet">
    <style>
        .nota {

            background-color: rgb(143, 11, 11);
            color: white;
            border: 4px solid rgb(168, 58, 58);
            padding: 18px;
            position: relative;
            margin: 10px 0;
            text-shadow: none;
            box-shadow: 2px 2px rgb(0, 0, 0, .3);
            border-radius: 30px;
        }


        .nota2 {
            background-color: rgb(139, 196, 146);
            color: white;
            border: 4px solid rgb(84, 197, 137);
            padding: 18px;
            position: relative;
            margin: 10px 0;
            text-shadow: none;
            box-shadow: 2px 2px rgb(0, 0, 0, .3);
            border-radius: 30px;
        }


        .nota3 {
            background-color: rgb(48, 79, 190);
            color: white;
            border: 4px solid rgb(49, 79, 190);
            padding: 18px;
            position: relative;
            margin: 10px 0;
            text-shadow: none;
            box-shadow: 2px 2px rgb(0, 0, 0, .3);
            border-radius: 30px;
        }

        .nota4 {
            background-color: rgb(230, 88, 204);
            color: white;
            border: 4px solid rgb(231, 88, 204);
            padding: 18px;
            position: relative;
            margin: 10px 0;
            text-shadow: none;
            box-shadow: 2px 2px rgb(0, 0, 0, .3);
            border-radius: 30px;
        }

        .check {
            position: absolute;
            background-color: rgb(43, 226, 83);
            padding: 7px;
            border-radius: 50%;
            line-height: 0;
            top: 20px;
            right: 118px;
        }

        .edit {
            position: absolute;
            padding: 7px;
            border-radius: 50%;
            line-height: 0;
            background: rgb(255, 255, 0);
            top: 20px;
            right: 60px;
        }

        .delete {
            position: absolute;
            padding: 7px;
            border-radius: 50%;
            line-height: 0;
            background: rgb(255, 0, 0);
            top: 20px;
            right: 8px;
        }
    </style>
    <script>
        $(document).on("ready", function () {
            $.mobile.defaultPageTransition = "slide";
            $.mobile.defaultDialogTransition = "slidedown";
        });
    </script>
</head>

<body>

    <div data-role="page" id="home">
        <div data-role="header" data-position="fixed">
            <img src="imagenes/logo (2).png" alt="logo" width="90%" height="100%" class="logo">
        </div>

        <!-- menu -->
        <div role="main" class="ui-content" id="mana">
            <div class="ui-grid-a">
                <div class="ui-block-a">
                    <a href="#desayuno">
                        <img src="imagenes/desayuno.jpg" alt="icono grid">

                    </a>
                </div>
                <div class="ui-block-b">
                    <a href="#almuerzo">
                        <img src="imagenes/almuerzo.jpg" alt="icono grid">

                    </a>
                </div>
                <div class="ui-block-a">
                    <a href="#merienda">
                        <img src="imagenes/merienda.jpg" alt="icono grid">

                    </a>
                </div>
                <div class="ui-block-b">
                    <a href="#cena">
                        <img src="imagenes/cena.jpg" alt="icono grid">

                    </a>
                </div>
            </div>
            <div data-role="footer" data-position="fixed">
                <a href="#pop" data-role="button" data-icon="info" data-iconpos="notext" data-inline="true"
                    data-rel="popup">
                    <p>Info</p>
                </a>
                <div id="pop" data-role="popup" data-overlay-theme="b" data-history="false" data-corners="false"
                    class="ui-content" data-transition="slidedown">
                    <a href="#" data-rel="back" data-role="button" data-icon="delete" data-iconpos="notext"
                        class="ui-btn-right" data-theme="b" data-direction="reverse"
                        data-transition="slidedown">Cerrar</a>
                    <ul data-role="listview">
                        <li data-role="list-divider" data-theme="b"> Desarrollo de Aplicaciones Multiplataforma</li>
                        <li>
                            <a href="#">
                                <img src="imagenes/aix.png " alt="aixa" style="border-radius: 50%;
                                width: 60px;
                                margin: 10px;
                                box-shadow: rgba(0, 0, 0, .5) 2px 2px 0px;">
                                <h3>AIXA CALCAGNO <br> <br></h3>


                                <p>CURSO: DMT5BV</p>
                                <span class="ui-li-count">TARDE</span>
                            </a>
                            <a href="mailto:aixa.calcagno@davinci.edu.ar ">mail</a>
                        </li>
                        <li data-role="list-divider" data-theme="b"> </li>
                        <li>
                        <li>
                            <a href="#">
                                <img src="imagenes/noe.png" alt="corona virus" style="border-radius: 50%;
                                            width: 60px;
                                            margin: 10px;
                                            box-shadow: rgba(0, 0, 0, .4) 2px 2px 0px;">
                                <h3>NOELIA NOVO <br> <br></h3>

                                <p>Divergente</p>
                                <span class="ui-li-count">TARDE</span>
                            </a>
                            <a href="mailto:noelia.novo@davinci.edu.ar">mail</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-- fin de menu -->
    <!--vista de historia -->

    <div data-role="page" id="desayuno" data-theme="b">
        <div data-role="header">
            <h1>Desayunos</h1>
            <a href="#home" data-role="button" data-rel="back" data-inline="true">Volver</a>
            <a href="#agregar">Agregar</a>
        </div>

        <div role="main" class="ui-content">
            <div id="notas">
            </div>
        </div>
    </div>

    <!-- agregar nota nueva -->

    <div data-role="page" id="agregar" data-theme="b">
        <div data-role="header">
            <h1>Nuevo Desayuno</h1>
            <a href="#" data-rel="back">Volver</a>
        </div>

        <div role="main" class="ui-content">
            <form>
                <input type="text" id="titulo" required placeholder="El titulo de la receta va acá...">
                <input type="text" id="contenido" required placeholder="Tu receta va acá...">

                <a href="#" class="botonesedit" data-role="button" data-inline="true" data-rel="back">Cancelar</a>
                <input type="submit" class="botonesedit" value="Guardar" data-inline="true" data-theme="b">
            </form>
        </div>
    </div>

    <!-- modificar nota -->

    <div data-role="page" id="modificar" data-theme="b">
        <div data-role="header">
            <h1>Modificar Receta</h1>
        </div>

        <div role="main" class="ui-content">
            <form>
                <input type="text" id="modifica_titulo" required placeholder="El titulo de la receta va acá...">
                <input type="text" id="modifica_contenido" required placeholder="El receta va acá...">

                <a href="#" data-role="button" class="botonesedit" data-inline="true" data-rel="back"> Cancelar</a>
                <input type="submit" value="Guardar" data-inline="true" data-theme="b">
            </form>
        </div>
    </div>

    <script>

        $('#agregar form').on('submit', function () {
            var titulo = $('#titulo').val();
            var contenido = $('#contenido').val();
            var nota = $('<div></div>');

            nota.attr('class', "nota")
                .append(
                    '<a href="#" class="check"><img src="imagenes/a.png" alt="a" ></a>'
                )
                .append(
                    '<a href="#" class="edit">  <img src="imagenes/b.png" alt="b" ></a>'
                )
                .append(
                    '<a href="#" class="delete">  <img src="imagenes/c.png" alt="c" > </a>'
                )
                .append('<h3>' + titulo + '</h3>')

                .append('<p>' + contenido + '</p>');

            $('#notas').prepend(nota);

            guardarNotas();

            $.mobile.navigate('#desayuno');
            return false;
        });

        $(document).on("pagebeforeshow", "#agregar", function () {
            $('form')[0].reset();
        });

        $('#notas').on("click", ".nota .delete", function () {
            var eliminar_nota = confirm("¿Estás seguro que querés eliminar la nota?");
            if (eliminar_nota) {
                $(this).parent().remove();
                guardarNotas();
            }
        });

        $('#notas').on("click", ".nota .check", function () {
            if ($(this).next().next().next().attr("data-cumplido") != "si") {
                $(this).parent().css({
                    backgroundColor: "white",
                    color: "green"
                });
                $(this).next().next().next().attr("data-cumplido", "si");

                guardarNotas();

            } else {
                $(this).parent().css({
                    backgroundColor: "green",
                    color: "white"
                });
                $(this).next().next().next().removeAttr("data-cumplido");
                guardarNotas();
            }
        });

        $('#notas').on("click", ".nota .edit", function () {
            var titulo_actual = $(this).parent().children("h3").text();
            var contenido_actual = $(this).parent().children("p").text();
            $('#modifica_titulo').val(titulo_actual);
            $('#modifica_contenido').val(contenido_actual);
            $(this).parent().attr("data-modificando", "este");
            $.mobile.navigate('#modificar');
        });

        $('#modificar form').on("submit", function () {
            var titulo_modificado = $('#modifica_titulo').val();
            var contenido_modificado = $('#modifica_contenido').val();
            var modificando = $('#notas').find("[data-modificando]");
            modificando.children('h3').text(titulo_modificado);
            modificando.children('p').text(contenido_modificado);
            modificando.removeAttr("data-modificando");
            guardarNotas();

            $.mobile.navigate("#desayuno");
            return false;
        });

        $('#home').on("pagebeforeshow", function () {
            var modificando = $('#notas').find("[data-modificando]");
            modificando.removeAttr("data-modificando");
        });

        $('#todas').on("click", function () {
            var eliminar_todas = confirm("¿Estás seguro que querés eliminar todas las notas?");
            if (eliminar_todas) {
                $("#notas").children().remove();
                localStorage.clear();
            }
        });

        function guardarNotas() {
            var notas_actuales = new Array();
            $('#notas div').each(function () {
                notas_actuales.push($(this).html());
            });

            var actuales_json = JSON.stringify(notas_actuales);
            localStorage.setItem("notas", actuales_json);
        }

        $(document).on("ready", function () {
            var recuperados_json = localStorage.getItem("notas");
            if (recuperados_json != null &&
                recuperados_json != undefined &&
                recuperados_json != "") {

                var recuperados_array = JSON.parse(recuperados_json);
                $.each(recuperados_array, function (indice, valor) {
                    var nota = $('<div></div>');
                    nota.attr('class', "nota")
                        .append(valor);

                    if (nota.children("h3").attr("data-cumplido") == "si") {
                        nota.css({ backgroundColor: "green", color: "white" });
                    }
                    $('#notas').append(nota);
                });

            }
        });

    </script>
    </div>

    <div data-role="page" id="almuerzo">
        <div data-role="header">
            <h1>Almuerzos</h1>
            <a href="#home" data-role="button" data-rel="back" data-inline="true">Volver</a>
            <a href="#agregar2">Agregar</a>
        </div>

        <div role="main" class="ui-content">
            <div id="notas2">
            </div>
        </div>
    </div>


    <!-- agregar nota nueva -->

    <div data-role="page" id="agregar2">
        <div data-role="header">
            <h1>Nuevo Almuerzo</h1>
            <a href="#" data-rel="back">Volver</a>
        </div>

        <div role="main" class="ui-content">

            <form>
                <input type="text" id="titulo2" required placeholder="El titulo de la receta va acá...">
                <input type="text" id="contenido2" required placeholder="Tu receta va acá...">

                <a href="#" class="botonesedit" data-role="button" data-inline="true" data-rel="back">Cancelar</a>

                <input type="submit" value="Guardar" data-inline="true" data-theme="b">
            </form>
        </div>
    </div>

    <!-- modificar receta -->

    <div data-role="page" id="modificar2">
        <div data-role="header">
            <h1>Modificar Receta</h1>
        </div>

        <div role="main" class="ui-content">

            <form>
                <input type="text" id="modifica_titulo2" required placeholder="el título acá...">
                <input type="text" id="modifica_contenido2" required placeholder="tu nota acá...">

                <a href="#" data-role="button" class="botonesedit" data-inline="true" data-rel="back"> Cancelar</a>

                <input type="submit" value="Guardar" data-inline="true" data-theme="b">
            </form>
        </div>
    </div>

    <script>

        $('#agregar2 form').on('submit', function () {
            var titulo2 = $('#titulo2').val();
            var contenido2 = $('#contenido2').val();
            var nota2 = $('<div></div>');
            nota2.attr('class', "nota2")
                .append(
                    '<a href="#" class="check"><img src="imagenes/a.png" alt="a" ></a>'
                )
                .append(
                    '<a href="#" class="edit">  <img src="imagenes/b.png" alt="b" ></a>'
                )
                .append(
                    '<a href="#" class="delete">  <img src="imagenes/c.png" alt="c" > </a>'
                )
                .append('<h3>' + titulo2 + '</h3>')
                .append('<p>' + contenido2 + '</p>');
            $('#notas2').prepend(nota2);

            guardarNotas2();
            $.mobile.navigate('#home');
            return false;
        });


        $(document).on("pagebeforeshow", "#agregar2", function () {
            $('form')[0].reset();
        });



        $('#notas2').on("click", ".nota2 .delete", function () {
            var eliminar_nota2 = confirm("¿Estás seguro que deseas eliminar la RECETA?");
            if (eliminar_nota2) {
                $(this).parent().remove();
                guardarNotas2();
            }
        });



        $('#notas2').on("click", ".nota2 .check", function () {
            if ($(this).next().next().next().attr("data-cumplido2") != "si") {
                $(this).parent().css({
                    backgroundColor: "white",
                    color: "green"
                });
                $(this).next().next().next().attr("data-cumplido2", "si");
                guardarNotas2();

            } else {
                $(this).parent().css({
                    backgroundColor: "green",
                    color: "white"
                });
                $(this).next().next().next().removeAttr("data-cumplido2");
                guardarNotas2();
            }
        });


        $('#notas2').on("click", ".nota2 .edit", function () {
            var titulo_actual2 = $(this).parent().children("h3").text();
            var contenido_actual2 = $(this).parent().children("p").text();
            $('#modifica_titulo2').val(titulo_actual2);
            $('#modifica_contenido2').val(contenido_actual2);
            $(this).parent().attr("data-modificando2", "este");
            $.mobile.navigate('#modificar2');
        });


        $('#modificar2 form').on("submit", function () {
            var titulo_modificado2 = $('#modifica_titulo2').val();
            var contenido_modificado2 = $('#modifica_contenido2').val();
            var modificando2 = $('#notas2').find("[data-modificando2]");
            modificando2.children('h3').text(titulo_modificado2);
            modificando2.children('p').text(contenido_modificado2);
            modificando2.removeAttr("data-modificando2");

            guardarNotas2();

            $.mobile.navigate("#almuerzo");
            return false;
        });

        $('#home').on("pagebeforeshow", function () {
            var modificando2 = $('#notas2').find("[data-modificando2]");
            modificando2.removeAttr("data-modificando2");
        });


        function guardarNotas2() {

            var notas_actuales2 = new Array();
            $('#notas2 div').each(function () {
                notas_actuales2.push($(this).html());
            });

            var actuales_json2 = JSON.stringify(notas_actuales2);
            localStorage.setItem("notas2", actuales_json2);
        }

        $(document).on("ready", function () {

            var recuperados_json2 = localStorage.getItem("notas2");
            if (recuperados_json2 != null &&
                recuperados_json2 != undefined &&
                recuperados_json2 != "") {
                var recuperados2_array = JSON.parse(recuperados_json2);
                $.each(recuperados2_array, function (indice, valor) {

                    var nota2 = $('<div></div>');
                    nota2.attr('class', "nota2")
                        .append(valor);

                    if (nota2.children("h3").attr("data-cumplido2") == "si") {
                        nota2.css({ backgroundColor: "green", color: "white" });
                    }

                    $('#notas2').append(nota2);
                });
            }
        });

    </script>
    </div>

    <div data-role="page" id="merienda" data-theme="c">
        <div data-role="header">
            <h1>Merienda</h1>
            <a href="#home" data-role="button" data-inline="true">Volver</a>
            <a href="#agregar3">Agregar</a>
        </div>

        <div role="main" class="ui-content">
            <div id="notas3">
            </div>
        </div>
    </div>


    <!-- agregar nota nueva -->

    <div data-role="page" id="agregar3" data-theme="c">
        <div data-role="header">
            <h1>Nueva Merienda</h1>
            <a href="#" data-rel="back">Volver</a>
        </div>

        <div role="main" class="ui-content">

            <form>
                <input type="text" id="titulo3" required placeholder="El titulo de la receta va acá...">
                <input type="text" id="contenido3" required placeholder="Tu receta va acá...">

                <a href="#" class="botonesedit" data-role="button" data-inline="true" data-rel="back">Cancelar</a>

                <a href="#merienda"> <input type="submit" value="Guardar" data-inline="true" data-theme="a"
                        data-rel="back"> </a>
            </form>
        </div>
    </div>

    <!-- modificar receta -->

    <div data-role="page" id="modificar3" data-theme="c">
        <div data-role="header">
            <h1>Modificar Receta</h1>
        </div>

        <div role="main" class="ui-content">

            <form>
                <input type="text" id="modifica_titulo3" required placeholder="el título acá...">
                <input type="text" id="modifica_contenido3" required placeholder="tu nota acá...">

                <a href="#" data-role="button" class="botonesedit" data-inline="true" data-rel="back"> Cancelar</a>

                <input type="submit" value="Guardar" data-inline="true" data-theme="b">
            </form>
        </div>
    </div>

    <script>

        $('#agregar3 form').on('submit', function () {
            var titulo3 = $('#titulo3').val();
            var contenido3 = $('#contenido3').val();
            var nota3 = $('<div></div>');
            nota3.attr('class', "nota2")
                .append(
                    '<a href="#" class="check"><img src="imagenes/a.png" alt="a" ></a>'
                )
                .append(
                    '<a href="#" class="edit">  <img src="imagenes/b.png" alt="b" ></a>'
                )
                .append(
                    '<a href="#" class="delete">  <img src="imagenes/c.png" alt="c" > </a>'
                )
                .append('<h3>' + titulo3 + '</h3>')
                .append('<p>' + contenido3 + '</p>');
            $('#notas3').prepend(nota3);

            guardarNotas3();
            $.mobile.navigate('#home');
            return false;
        });


        $(document).on("pagebeforeshow", "#agregar3", function () {
            $('form')[0].reset();
        });



        $('#notas3').on("click", ".nota3 .delete", function () {
            var eliminar_nota3 = confirm("¿Estás seguro que deseas eliminar la RECETA?");
            if (eliminar_nota3) {
                $(this).parent().remove();
                guardarNotas3();
            }
        });



        $('#notas3').on("click", ".nota3 .check", function () {
            if ($(this).next().next().next().attr("data-cumplido3") != "si") {
                $(this).parent().css({
                    backgroundColor: "white",
                    color: "green"
                });
                $(this).next().next().next().attr("data-cumplido3", "si");
                guardarNotas3();

            } else {
                $(this).parent().css({
                    backgroundColor: "green",
                    color: "white"
                });
                $(this).next().next().next().removeAttr("data-cumplido3");
                guardarNotas3();
            }
        });


        $('#notas3').on("click", ".nota3 .edit", function () {
            var titulo_actual3 = $(this).parent().children("h3").text();
            var contenido_actual3 = $(this).parent().children("p").text();
            $('#modifica_titulo3').val(titulo_actual3);
            $('#modifica_contenido3').val(contenido_actual3);
            $(this).parent().attr("data-modificando3", "este3");
            $.mobile.navigate('#modificar3');
        });


        $('#modificar3 form').on("submit", function () {
            var titulo_modificado3 = $('#modifica_titulo3').val();
            var contenido_modificado3 = $('#modifica_contenido3').val();
            var modificando3 = $('#notas3').find("[data-modificando3]");
            modificando3.children('h3').text(titulo_modificado3);
            modificando3.children('p').text(contenido_modificado3);
            modificando3.removeAttr("data-modificando3");

            guardarNotas3();

            $.mobile.navigate("#merienda");
            return false;
        });

        $('#home').on("pagebeforeshow", function () {
            var modificando3 = $('#notas3').find("[data-modificando3]");
            modificando3.removeAttr("data-modificando3");
        });


        function guardarNotas3() {

            var notas_actuales3 = new Array();
            $('#notas3 div').each(function () {
                notas_actuales3.push($(this).html());
            });

            var actuales_json3 = JSON.stringify(notas_actuales3);
            localStorage.setItem("notas3", actuales_json3);
        }

        $(document).on("ready", function () {

            var recuperados_json3 = localStorage.getItem("notas3");
            if (recuperados_json3 != null &&
                recuperados_json3 != undefined &&
                recuperados_json3 != "") {
                var recuperados3_array = JSON.parse(recuperados_json3);
                $.each(recuperados3_array, function (indice, valor) {

                    var nota3 = $('<div></div>');
                    nota3.attr('class', "nota3")
                        .append(valor);

                    if (nota3.children("h3").attr("data-cumplido3") == "si") {
                        nota3.css({ backgroundColor: "green", color: "white" });
                    }

                    $('#notas3').append(nota3);
                });
            }
        });

    </script>
    </div>

    <div data-role="page" id="cena" data-theme="d">
        <div data-role="header">
            <h1>Cena</h1>
            <a href="#home" data-role="button" data-inline="true">Volver</a>
            <a href="#agregar4" data-role="button">Agregar</a>
        </div>

        <div role="main" class="ui-content">
            <div id="notas4">
            </div>
        </div>
    </div>


    <!-- agregar nota nueva -->

    <div data-role="page" id="agregar4" data-theme="d">
        <div data-role="header">
            <h1>Nueva Cena</h1>
            <a href="#cena" data-rel="back">Volver</a>
        </div>

        <div role="main" class="ui-content">

            <form>
                <input type="text" id="titulo4" required placeholder="El titulo de la receta va acá...">
                <input type="text" id="contenido4" required placeholder="Tu receta va acá...">

                <a href="#" data-role="button" data-inline="true" data-rel="back">Cancelar</a>

                <a href="#cena"> <input type="submit" value="Guardar" data-inline="true" data-theme="c"> </a>
            </form>
        </div>
    </div>

    <!-- modificar receta -->

    <div data-role="page" id="modificar4" data-theme="b">
        <div data-role="header">
            <h1>Modificar Receta</h1>
        </div>

        <div role="main" class="ui-content">

            <form>
                <input type="text" id="modifica_titulo4" required placeholder="el título acá...">
                <input type="text" id="modifica_contenido4" required placeholder="tu nota acá...">

                <a href="#" data-role="button" data-inline="true" data-rel="back"> Cancelar</a>

                <input type="submit" value="Guardar" data-inline="true" data-theme="b">
            </form>
        </div>
    </div>

    <script>

        $('#agregar4 form').on('submit', function () {
            var titulo4 = $('#titulo4').val();
            var contenido4 = $('#contenido4').val();
            var nota4 = $('<div></div>');
            nota4.attr('class', "nota4")
                .append(
                    '<a href="#" class="check"><img src="imagenes/a.png" alt="a" ></a>'
                )
                .append(
                    '<a href="#" class="edit">  <img src="imagenes/b.png" alt="b" ></a>'
                )
                .append(
                    '<a href="#" class="delete">  <img src="imagenes/c.png" alt="c" > </a>'
                )
                .append('<h3>' + titulo4 + '</h3>')
                .append('<p>' + contenido4 + '</p>');
            $('#notas4').prepend(nota4);

            guardarNotas4();
            $.mobile.navigate('#cena');
            return false;
        });


        $(document).on("pagebeforeshow", "#agregar4", function () {
            $('form')[0].reset();
        });



        $('#notas4').on("click", ".nota4 .delete", function () {
            var eliminar_nota4 = confirm("¿Estás seguro que deseas eliminar la RECETA?");
            if (eliminar_nota4) {
                $(this).parent().remove();
                guardarNotas4();
            }
        });



        $('#notas4').on("click", ".nota4 .check", function () {
            if ($(this).next().next().next().attr("data-cumplido4") != "si") {
                $(this).parent().css({
                    backgroundColor: "white",
                    color: "green"
                });
                $(this).next().next().next().attr("data-cumplido4", "si");
                guardarNotas4();

            } else {
                $(this).parent().css({
                    backgroundColor: "green",
                    color: "white"
                });
                $(this).next().next().next().removeAttr("data-cumplido4");
                guardarNotas4();
            }
        });


        $('#notas4').on("click", ".nota4 .edit", function () {
            var titulo_actual4 = $(this).parent().children("h3").text();
            var contenido_actual4 = $(this).parent().children("p").text();
            $('#modifica_titulo4').val(titulo_actual4);
            $('#modifica_contenido4').val(contenido_actual4);
            $(this).parent().attr("data-modificando4", "este4");
            $.mobile.navigate('#modificar4');
        });


        $('#modificar4 form').on("submit", function () {
            var titulo_modificado4 = $('#modifica_titulo4').val();
            var contenido_modificado4 = $('#modifica_contenido4').val();
            var modificando4 = $('#notas4').find("[data-modificando4]");
            modificando4.children('h3').text(titulo_modificado4);
            modificando4.children('p').text(contenido_modificado4);
            modificando4.removeAttr("data-modificando4");

            guardarNotas4();

            $.mobile.navigate("#cena");
            return false;
        });

        $('#home').on("pagebeforeshow", function () {
            var modificando4 = $('#notas4').find("[data-modificando4]");
            modificando4.removeAttr("data-modificando4");
        });


        function guardarNotas4() {

            var notas_actuales4 = new Array();
            $('#notas4 div').each(function () {
                notas_actuales4.push($(this).html());
            });

            var actuales_json4 = JSON.stringify(notas_actuales4);
            localStorage.setItem("notas4", actuales_json4);
        }

        $(document).on("ready", function () {

            var recuperados_json4 = localStorage.getItem("notas4");
            if (recuperados_json4 != null &&
                recuperados_json4 != undefined &&
                recuperados_json4 != "") {
                var recuperados4_array = JSON.parse(recuperados_json4);
                $.each(recuperados4_array, function (indice, valor) {

                    var nota4 = $('<div></div>');
                    nota4.attr('class', "nota4")
                        .append(valor);

                    if (nota4.children("h3").attr("data-cumplido4") == "si") {
                        nota4.css({ backgroundColor: "green", color: "white" });
                    }

                    $('#notas4').append(nota4);
                });
            }
        });

    </script>
    </div>

</body>

</html>